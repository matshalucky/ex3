
@{
    ViewBag.Title = "save";
}



<html>
<head>
    <link href="~/Image/StyleSheet1.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <canvas id="canvas" style="width:100%; height:100%;"></canvas>
    <script>
        
        var locations =[];
        var IntervalTime = @Session["pace"] * 1000;

         myTimer = (function () {
             $.post("@Url.Action("GetFlightData")").done(function (xml) {
                 var c1 = document.getElementById("canvas");
                 var context1 = c1.getContext("2d");
                 context1.canvas.width = window.innerWidth;
                 context1.canvas.height = window.innerHeight;
                 var xmldoc = $.parseXML(xml);
                 $xml = $(xmldoc);
                 lon = parseFloat($xml.find("lon").text());
                 lat = parseFloat($xml.find("lat").text());
                 rudder = parseFloat($xml.find("rudder").text()); 
                 throttle = parseFloat($xml.find("throttle").text()); 
                 drawRoute(context1, lon, lat, locations);
        });
    });

    setInterval(myTimer, IntervalTime);
    myTimer();



    </script>
</body>
</html>